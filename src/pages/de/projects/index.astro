---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import Navigation from '../../../components/react/Navigation.tsx';
import LanguageSwitcher from '../../../components/LanguageSwitcher.astro';
import { getCollection } from 'astro:content';

const projects = (await getCollection('projects')).sort((a, b) => a.data.order - b.data.order);

// Map technology names to vocabulary page slugs
const techSlugMap: Record<string, string> = {
  'React': 'react-typescript',
  'TypeScript': 'react-typescript',
  'Redux': 'redux-state-management',
  'Zustand': 'zustand-state-management',
  'Material UI': 'material-ui-design-system',
  'MongoDB': 'mongodb-react-dashboard',
  'Docker': 'docker-github-actions-cicd',
  'Playwright': 'playwright-testing',
  'Next.js': 'nextjs-enterprise',
  'React Hook Form': 'react-hook-form',
  'Formik': 'formik-multistep-forms',
  'PostgreSQL': 'postgresql-react',
  'GraphQL': 'graphql-integration',
  'Gatsby': 'gatsby-graphql'
};

const projectTranslations: Record<string, { title?: string; summary?: string; role?: string }> = {
  '00-o2-service-workbench': {
    role: 'Frontend-Entwickler @ NEOVIA',
    title: 'O2 Czech Republic Service Workbench',
    summary: 'React/TypeScript-Portal von NEOVIA, das O2-Teams hilft, interne Arbeit zu planen, Tickets zu prüfen und Abläufe in einem Material UI Workspace zu koordinieren.'
  },
  '01-flowops-control': {
    role: 'Frontend-Entwickler @ CONSWARE',
    title: 'TESCO Stores CZ Operations Portal',
    summary: 'Interne Anwendung für Filialleiter, um Kampagnen zu planen, Bestände zu prüfen und Reports über tschechische Hypermärkte zu synchronisieren.'
  },
  '02-aurora-prototyper': {
    role: 'Frontend-Entwickler @ BOOTIQ',
    title: 'MONETA Auto Underwriting Workspace',
    summary: 'Next.js Suite, die Kreditberater mit Validierungen, Dokumententracking und Integrationen zu internen APIs unterstützt.'
  },
  '03-signal-a11y': {
    role: 'Frontend-Entwickler @ SYNETECH',
    title: 'JABLOTRON Service Dashboard',
    summary: 'React + Gatsby Tooling, das Installateuren ermöglicht, Geräte, Zeitpläne und Service-Tickets in einem Interface zu verwalten.'
  }
};
---

<style>
  .keyword-highlight {
    background: linear-gradient(180deg, transparent 60%, rgba(var(--accent-rgb), 0.2) 60%);
    font-weight: 500;
    text-decoration: none;
    color: inherit;
    transition: background 0.2s;
  }
  .keyword-highlight:hover {
    background: linear-gradient(180deg, transparent 50%, rgba(var(--accent-rgb), 0.35) 50%);
  }
</style>

<BaseLayout
  title="Projekte | Enterprise React Portale und Anwendungen"
  description="Portfolio von Enterprise-React-Anwendungen und internen Portalen für O2 Czech Republic, TESCO Stores CZ, MONETA Auto, České dráhy und JABLOTRON GROUP."
>
  <Navigation slot="navigation" client:load currentPath={Astro.url.pathname} />
  <LanguageSwitcher slot="language-switcher" />

  <article class="mx-auto max-w-5xl space-y-8">
    <nav aria-label="Breadcrumb" class="text-sm text-slate-400">
      <a href="/de" class="hover:text-accent">Startseite</a> → <span class="text-slate-200">Projekte</span>
    </nav>

    <header class="space-y-4">
      <h1 class="text-4xl font-bold text-white sm:text-5xl">Enterprise-Projekte</h1>
      <p class="text-xl text-slate-200">
        Eine Präsentation von React-lastigen internen Portalen und Enterprise-Anwendungen, die für große tschechische Unternehmen im letzten Jahrzehnt entwickelt wurden.
      </p>
    </header>

    <div class="rounded-2xl border border-accent/30 bg-accent/10 p-6">
      <p class="text-lg text-slate-100">
        Jedes Projekt repräsentiert monatelange Entwicklungsarbeit und bedient täglich Hunderte bis Tausende von Nutzern. Ich habe diese Anwendungen mit React, TypeScript und modernen Enterprise-Technologien entwickelt, dabei höchste Standards für Performance, Barrierefreiheit und Codequalität eingehalten.
      </p>
    </div>

    <div class="grid gap-6 md:grid-cols-2">
      {projects.map((project) => (
        <article class="grid-panel flex flex-col gap-4">
          <div>
            <p class="text-sm uppercase tracking-[0.25em] text-slate-400">{projectTranslations[project.slug]?.role ?? project.data.role}</p>
            <h3 class="mt-2 text-2xl font-semibold text-white">{projectTranslations[project.slug]?.title ?? project.data.title}</h3>
            <p class="mt-2 text-slate-200">{projectTranslations[project.slug]?.summary ?? project.data.summary}</p>
          </div>
          <div class="flex flex-wrap gap-2">
            {project.data.stack.map((tech) => {
              const slug = techSlugMap[tech];
              return slug ? (
                <a href={`/de/vocabulary/${slug}`} class="pill keyword-highlight">{tech}</a>
              ) : (
                <span class="pill">{tech}</span>
              );
            })}
          </div>
          {project.data.link && (
            <a class="text-sm font-semibold text-accent underline-offset-4 hover:underline" href={project.data.link}>
              Projekt besuchen →
            </a>
          )}
        </article>
      ))}
    </div>

    <section class="rounded-2xl border border-accent/30 bg-accent/5 p-6">
      <h2 class="text-2xl font-semibold text-white">Technologien und Muster</h2>
      <div class="mt-4 space-y-4 text-slate-200">
        <p>
          Über diese Projekte hinweg habe ich konsistent Enterprise-Lösungen geliefert mit:
        </p>
        <ul class="list-disc space-y-2 pl-6">
          <li><strong>Frontend:</strong> React, TypeScript, Next.js, Gatsby, Material UI, Tailwind CSS, Styled Components</li>
          <li><strong>State Management:</strong> Redux, Zustand, React Query, Context API</li>
          <li><strong>Formulare und Validierung:</strong> Formik, React Hook Form, Yup</li>
          <li><strong>Backend-Integration:</strong> REST APIs, GraphQL, Java, PHP, Node.js</li>
          <li><strong>Datenbanken:</strong> PostgreSQL, MongoDB, MySQL</li>
          <li><strong>DevOps und Testing:</strong> Docker, GitHub Actions, Playwright, Jest, Cypress</li>
        </ul>
        <p class="pt-4">
          Jedes Projekt folgt Enterprise-Architekturmustern mit Schwerpunkt auf Wartbarkeit, Skalierbarkeit, Sicherheit und Teamzusammenarbeit.
        </p>
      </div>
    </section>

    <section class="rounded-2xl border border-accent/30 bg-accent/5 p-6 text-center">
      <h2 class="text-2xl font-semibold text-white">Starten Sie Ihr nächstes Enterprise-Projekt</h2>
      <p class="mt-3 text-slate-200">
        Ich bringe 8+ Jahre Enterprise-React-Entwicklungserfahrung mit, um skalierbare interne Portale und unternehmenskritische Anwendungen zu entwickeln. Lassen Sie uns über Ihr Projekt sprechen.
      </p>
      <a href="mailto:marekdolnicek@gmail.com" class="mt-4 inline-block rounded-full bg-accent px-8 py-3 font-semibold text-ink transition hover:bg-accentMuted">
        Kontaktieren Sie mich
      </a>
    </section>
  </article>

  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "ItemList",
    "name": "Enterprise React Projekte von Marek Dolníček",
    "description": "Portfolio von Enterprise-React-Anwendungen und internen Portalen",
    "numberOfItems": projects.length,
    "itemListElement": projects.map((project, index) => ({
      "@type": "CreativeWork",
      "position": index + 1,
      "name": project.data.title,
      "description": project.data.summary,
      "author": {
        "@type": "Person",
        "name": "Marek Dolníček"
      }
    }))
  })}></script>
</BaseLayout>
